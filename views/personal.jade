extends layout

block content
    section.content
        -if(user)
            section.personal-control
                div.user-content
                    div.icon-con
                        img.user-icon(src="/images/#{user.icon}")
                        input.up-icon(type="file")
                    p
                        span.user-nick=user.username
            section.show-pannel
                div.up-info
                    span 录入文章
                    div
                        label.label 文章标题
                        input(name="arti-title", id="arti-title", placeholder="文章标题")
                    div
                        label.label 选择标签 / 新增标签
                        div.tip-container
                            select.tip-select
                                option(value="") 未选择分类
                                each val in listTip
                                    option(value="#{val.tip}")=val.tip
                            input(name="arti-tip", id="arti-tip", placeholder="新增文章标签")
                    div
                        label.label 文章摘要
                        input(name="arti-desc", id="arti-desc", placeholder="文章概要")
                    input(name="arti-auth", id="arti-auth", type="hidden", value="#{user.username}")

                    label.label 正文部分
                    section#editor
                    p
                        span.submit-info 提交
        -else
            p(style="text-align:center;") 未登录,
                span.pop.login 点击登录
    script(src="/wangeditor/release/wangEditor.min.js")
    script(src="/javascripts/personal.js")

    style.
        .content{
            display: flex;
        }
        .personal-control{
            flex: 0 0 20%;
            background: #00B7FF;
        }
        .show-pannel{
            flex: 0 0 80%;
            overflow: scroll;
        }
        .disable{
            background: #dcdcdc;
            border: none;
            height: 32px!important;
        }
        .disable:hover{
            cursor: not-allowed;
        }
        .up-info{
            width: 80%;
            margin: auto;
        }
        .up-info>div {
            display: flex;
            flex-wrap: wrap;
        }
        .up-info>div input,
        .up-info>div select {
            margin: 10px 0;
            width: 500px;
            height: 30px;
            line-height: 30px;
            padding-left: 10px;
            font-size: 16px;
        }
        .up-info .tip-container input,
        .up-info .tip-container select {
            width: 200px;
        }
        #arti-tip{
            margin-left: 20px;
        }
        .submit-info{
            float: right;
            margin-right: 30px;
            margin-top: 20px;
            width: 150px;
            height: 40px;
            line-height: 40px;
            color: #fff;
            background: #00B7FF;
            border-radius: 5px;
            text-align: center;
            font-size: 20px;
        }
        .label{
            padding-top: 18px;
            width: 170px;
        }
        .w-e-text-container{
            z-index: 0!important;
        }
        .user-content{
            margin-top: 20px;
            text-align: center;
        }
        .user-icon{
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }
        .user-nick{
            display: inline-block;
            color: #fff;
            font-size: 24px;
            font-family: "STCaiyun";
            padding-top: 20px;
        }
        .icon-con{
            position: relative;
            width: 150px;
            height: 150px;
            margin: auto;
        }
        .up-icon{
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            height: 100%;
            width: 100%;
            opacity: 0;
        }